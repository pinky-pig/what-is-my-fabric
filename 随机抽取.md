# éšæœºæŠ½å–


- ğŸ” Grid å¸ƒå±€
- ğŸ±â€ğŸš€ éšæœºç®—æ³•
- ğŸ³ Canvas-confetti æ’ä»¶

## Grid å¸ƒå±€

å‚è€ƒé˜®ä¸€å³°è€å¸ˆçš„åšå®¢æ•™ç¨‹: [CSS Grid ç½‘æ ¼å¸ƒå±€æ•™ç¨‹](https://www.ruanyifeng.com/blog/2019/03/grid-layout-tutorial.html)  

è¿™é‡Œå®ç°çš„æ˜¯ä¸€ä¸ªé¡ºæ—¶é’ˆçš„ä¹å®«æ ¼ï¼Œå…«ä¸ªé€‰æ‹©ï¼Œä¸­å¿ƒæ˜¯ç»“æœï¼Œæ‰€ç”¨åˆ°çš„ Grid å±æ€§ : [grid-template-areas](https://developer.mozilla.org/zh-CN/docs/Web/CSS/grid-template-areas)

```
.box{
  display: grid;
  grid-template-rows: 100px 100px 100px;
  grid-template-columns: 100px 100px 100px;
  grid-template-areas: 'a b c'
                      'h i d'
                      'g f e';
}
```

## éšæœºç®—æ³•

- æŠ½å–è¿‡ç¨‹ï¼ŒåŠ é€Ÿ---ç¡®å®šè¦æŠ½å–æŸä¸ªnum----å‡é€Ÿ----å½“å‰numç­‰äºæŠ½ä¸­çš„num
- åŠ é€Ÿåˆ°å‡é€Ÿçš„ä¸´ç•Œå€¼å°±æ˜¯è¦ç”ŸæˆæŠ½å–çš„ç»“æœã€‚åé¢çš„æ˜¯è¦åŒ¹é…åŠ¨ç”»ï¼Œå½“å‰æ­¥éª¤æ˜¯é‚£ä¸ªç»“æœã€‚

### éšæœºå‡½æ•°

```ts
generatePickedNumber(){
  return Math.floor(Math.random() * this.total_items)
}
```

è§£é‡Šï¼š
å‡å¦‚æœ‰8ä¸ªæ•°ï¼Œé‚£ä¹ˆç”Ÿæˆçš„éšæœºæ•°èŒƒå›´æ˜¯[0,8]  
å› ä¸º`Math.random()`èŒƒå›´æ˜¯[0,1) é‚£ä¹ˆ`Math.random()` * 8 çš„èŒƒå›´æ˜¯[0,8) 

èˆå»å°æ•°å–æ•´è§„åˆ™ï¼Œæ–¹æ³•æœ‰:
|       æ–¹æ³•     |   å–æ•´è§„åˆ™   |   ç¿»è¯‘    |
| :------------: | ----------- | -------- |
| `Math.round()` | å››èˆäº”å…¥     |  å››èˆäº”å…¥ |
| `Math.ceil()`  |   å‘ä¸Šå–æ•´   |   å¤©èŠ±æ¿ |
| `Math.floor()` |   å‘ä¸‹å–æ•´   |   åœ°æ¿   |

è¿™é‡Œä½¿ç”¨`Math.floor()`ï¼Œå…·ä½“ä¸ºä»€ä¹ˆæ˜¯ä½¿ç”¨`floor`è€Œä¸æ˜¯å¦å¤–ä¸¤ä¸ªï¼Œè¿˜æ˜¯å› ä¸ºè¦æ¯ä¸ªæ•°çš„æ¦‚ç‡ç›¸åŒï¼Œå…·ä½“å¯å‚è€ƒ[js ä¸ºä½•èŒƒå›´å†…éšæœºå–æ•´è¦ç”¨floorï¼Œè€Œä¸æ˜¯ceilæˆ–è€…roundå‘¢](https://www.cnblogs.com/echolun/p/11186622.html)ã€‚

ç”±ä¸Šå¯å¾—ï¼Œéœ€è¦çš„éšæœºæ•°èŒƒå›´æ˜¯ `[0,8]` ï¼Œé‚£ä¹ˆ`Math.floor(Math.random() * (length + 1))`


å»¶ä¼¸ï¼šç”ŸæˆèŒƒå›´åœ¨[n,m]çš„éšæœºæ•°

```ts
const getRandom = (n:number, m:number) => Math.floor(Math.random() * (m - n + 1) + n)
```

è§£é‡Šï¼š
å‡å¦‚æƒ³è¦å¾—åˆ°[70,80]èŒƒå›´å†…çš„éšæœºæ•°
é‚£ä¹ˆï¼Œ `80 - 70 = 10` ï¼Œç®—å‡ºéšæœºæ•°èŒƒå›´æ˜¯`[0,10]`çš„éšæœºæ•°ï¼Œç„¶ååŠ ä¸Š `70`ï¼Œé‚£ä¹ˆå°±å¾—åˆ°äº†[70,80]çš„éšæœºæ•°ã€‚ 
ç”±ä¸Šå¯å¾—ï¼š `Math.floor(Math.random() * (80 - 70 + 1) + 70)`

### æ§åˆ¶é€Ÿåº¦

åˆå§‹åŒ–ï¼ŒåŠ é€Ÿï¼Œç”Ÿæˆç»“æœï¼Œå‡é€Ÿï¼ŒåŒ¹é…å½“å‰çš„æ˜¯å¦ç­‰äºç»“æœï¼Œä¸ç­‰äºçš„è¯ï¼Œç»§ç»­å‡é€Ÿï¼Œç›´è‡³åŒ¹é…åˆ°ã€‚

æŠ½ç­¾è¿‡ç¨‹æœ‰ä¸ªåŠ é€Ÿå‡é€Ÿè¿‡ç¨‹ï¼Œå¹¶ä¸”å½“å‰çš„æ•°å­—è¦ä¸€æ­¥æ­¥åŒ¹é…ï¼Œç›´åˆ°ç­‰äºç”Ÿæˆçš„ç»“æœã€‚æ‰€ä»¥ä¼šæœ‰ä¸ªæ–¹æ³•é€’å½’ï¼Œ
basecase å°±æ˜¯æ˜¯å½“å‰çš„æ•°å­—ç­‰äºç”Ÿæˆçš„ç»“æœï¼Œè·³å‡ºã€‚


```ts
controllSpeed(){
  this.jumps += 1
  this.runCircle()
  // æŠ½ä¸­
  if (this.jumps > this.min_jumps + 10 && this.result === this.current_index) {
    clearTimeout(this.timer)
    
    showConfetti() // æŠ½ä¸­ æ˜¾ç¤ºçƒŸèŠ±

    this.result = -1
    this.jumps = 0
  } else {
    // æœªæŠ½ä¸­
    if (this.jumps < this.min_jumps) { // åŠ é€Ÿ
      this.speed -= 5
    } else if (this.jumps === this.min_jumps) { // ç¡®å®šä½ç½®
      const random_number = this.generatePickedNumber();
      this.result = random_number;
    } else { // æ¸›é€Ÿ
      this.speed += 20;
    }
    this.timer = setTimeout( this.controllSpeed.bind(this), this.speed)
  }
}
```
